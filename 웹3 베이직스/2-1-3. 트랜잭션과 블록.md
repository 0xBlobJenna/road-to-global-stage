# 트랜잭션과 블록
블록체인은 분산 데이터 베이스로 

## 트랜잭션
### 트랜잭션의 정의
### 트랜잭션의 구성 요소
### 트랜잭션의 구동 원리

## 블록
# 블록과 체인

블록은 블록 체인에 추가된 새로운 거래의 기록이다. 새로운 트랜잭션(기록)을 블록(장부)에 담는다고 표현할 수 있다. 각 블록에는 다른 블록과 구별할 수 있는 고유한 코드와 이전 블록의 해시가 포함되어 블록을 연결한다. 이렇게 서로 연결되어 위변조 할 수 없는 안전한 체인이 형성되는 것이다. 네트워크가 온라인 상태가 된 후 채굴 된 첫 번째 블록을 제네시스 블록(genesis block)이라 하고 이를 포함하여 함께 연결된 모든 블록들을 일컬어 블록 체인 이라고 부른다. 체인은 네트워크 내 모든 트랜잭션을 포함해 모든 계정의 잔고를 기록하는 장부, 즉 원장이라고 할 수 있다.

### 블록과 블록의 작동방식

이더리움 네트워크의 모든 참가자가 동기화 된 상태를 유지하고 정확한 트랜잭션 내역에 동의하도록 하기 위해, 트랜잭션을 블록에 담아 일괄처리 한다. 수십 또는 수백개의 트랜잭션이 한 번에 커밋되고, 합의되고,동기화 된다는 것을 의미한다. 또한 트랜잭션의 크기는 제각각이고, 블록은 트랜잭션의 수가 아니라 블록에 포함될 트랜잭션이 소비할 수 있는 최대 가스량에 의해 정해진다. 다시 말해, 블록 당 저장되는 데이터의 최대량은 정해져 있다.

![출처 : [https://ethereum.org/ko/developers/docs/blocks/](https://ethereum.org/ko/developers/docs/blocks/)](./images/블록구조-1.png)

출처 : [https://ethereum.org/ko/developers/docs/blocks/](https://ethereum.org/ko/developers/docs/blocks/)

사용자가 트랜잭션을 요청하면 트랜잭션을 받은 노드들은 자신에게 설치된 클라이언트를 통해 유효성을 확인한다. 해당 트랜잭션이 유효하면 멤풀(Mempool, Memory pool)이란 보류중인 트랜잭션이 모인 공간에 추가되고 검증자들은 해당 트랜잭션들 중 수수료가 높은 것을 먼저 선택해 블록에 포함시킨다. 간단하게 트랜잭션과 블록 생성 과정을 알아보았다.

네트워크 상의 거래 내역을 보존하기 위해서 블록은 상위 블록에 대한 참조가 필요하게끔 정렬되어 결합한다고 앞서 언급했다. 그렇다면 블록은 어떤 방식으로 결합되는 것일까? 새로운 트랜잭션은 블록체인에서 나온 새로운 기록이라고 할 수 있다. 검증자들은 무작위로 트랜잭션을 블록에 담을 수 있는 권한을 부여받는데 이를 블록 제안자(proposer)라고 하고, 트랜잭션을 블록에 담아 공유하면 수많은 검증자(validator)들은 블록 안의 트랜잭션을 검증하고 새로운 블록을 기존의 블록에 추가하여 저장한다. 그 후 다음 블록을 생성할 새로운 검증자가 선택되어 새 블록을 생성한다. 정확한 블록 결합의 과정과 합의 프로세스는 현재 이더리움의 지분증명 프로토콜에 따라 지정된다.


### 블록의 정의
### 블록의 구성 요소
### 블록의 구동 원리

## 블록체인과 데이터